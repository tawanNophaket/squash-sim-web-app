<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Squash Ball Striker Simulation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <h1>Squash Ball Striker Simulation</h1>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="openTab('basic')">Basic Settings</button>
            <button class="tab-btn" onclick="openTab('analysis')">Angle Analysis</button>
            <button class="tab-btn" onclick="openTab('results')">Results</button>
        </div>
        
        <div id="basic" class="tab-content active">
            <div class="settings-panel">
                <h2>Striker Settings</h2>
                
                <div class="setting">
                    <label for="release-height">Release Height (m):</label>
                    <select id="release-height">
                        <option value="1.0">1.0</option>
                        <option value="1.5">1.5</option>
                        <option value="2.0" selected>2.0</option>
                    </select>
                </div>
                
                <div class="setting">
                    <label for="strike-angle">Strike Angle (째):</label>
                    <input type="range" id="strike-angle" min="10" max="80" step="0.1" value="45">
                    <span id="angle-value">45.0째</span>
                </div>
                
                <div class="setting">
                    <label for="strike-velocity">Strike Velocity (m/s):</label>
                    <input type="range" id="strike-velocity" min="1" max="20" step="0.1" value="5.25">
                    <span id="velocity-value">5.25 m/s</span>
                </div>
                
                <button id="start-btn" class="primary-btn" onclick="startSimulation()">Start Simulation</button>
                <button id="reset-btn" onclick="resetSimulation()">Reset</button>
            </div>
            
            <div class="target-panel">
                <h2>Target Optimization</h2>
                
                <div class="setting">
                    <label for="target-distance">Target Distance (m):</label>
                    <input type="range" id="target-distance" min="0.75" max="2.65" step="0.01" value="1.7">
                    <span id="target-value">1.70 m</span>
                </div>
                
                <button id="optimize-btn" class="primary-btn" onclick="optimizeSettings()">Find Optimal Settings</button>
            </div>
        </div>
        
        <div id="analysis" class="tab-content">
            <h2>Angle Analysis</h2>
            <canvas id="angle-chart"></canvas>
            
            <div class="sensitivity-panel">
                <h3>Sensitivity Analysis</h3>
                <div class="setting">
                    <label for="base-angle">Base Angle (째):</label>
                    <input type="number" id="base-angle" min="10" max="80" step="0.1" value="45">
                </div>
                
                <div class="setting">
                    <label for="angle-variation">Variation (째):</label>
                    <input type="number" id="angle-variation" min="0.1" max="10" step="0.1" value="5">
                </div>
                
                <button onclick="runSensitivityAnalysis()">Run Analysis</button>
            </div>
            
            <div id="sensitivity-results"></div>
        </div>
        
        <div id="results" class="tab-content">
            <h2>Simulation Results</h2>
            
            <div class="results-panel">
                <div class="result-item">
                    <span class="label">Landing Distance:</span>
                    <span id="landing-distance" class="value">0.00 m</span>
                </div>
                
                <div class="result-item">
                    <span class="label">Target Zone:</span>
                    <span id="target-zone" class="value">None</span>
                </div>
            </div>
            
            <canvas id="trajectory-chart"></canvas>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>